import{r as i,c as s,h as t,H as h,g as e}from"./p-1eafec4e.js";import{g as a}from"./p-a5313538.js";const n=class{constructor(t){i(this,t),this.fullScreen=!1,this._slidesParams={},this._ticking=!1,this._oriMargin={},this._touchStart=!1,this._touchMove=!1,this.onSlidesHeaderVisibility=s(this,"jeepSlidesHeaderVisibility",7)}parseOptionsProp(i){i&&(this.innerOptions=JSON.parse(i))}handleWindowResize(){this._windowResize()}async handleJeepNavigationPrev(){await this.goToPreviousSlide()}async handleJeepNavigationNext(){await this.goToNextSlide()}async handleJeepPaginationIndex(i){i.detail&&i.detail.index&&(await this.goToSlideIndex(Number(i.detail.index)),this.innerOptions.navigation&&this._setNavigationButtons(),await this._pagEl.setJeepPaginationActiveIndex({activeIndex:this._slidesParams.curSlide.toString()}))}async handleJeepPlayControlsCurrentIndex(i){i.detail&&i.detail.index&&await this.goToSlideIndex(Number(i.detail.index))}async handleJeepFullscreenRequest(){this._setProperties(!1),await this._fullEl.fullscreenRequest(document.documentElement),this.fullScreen=!0,this._windowResize()}async handleJeepFullscreenExit(){await this._fullEl.fullscreenExit(),this._setProperties(!0),this.fullScreen=!1,this._windowResize()}async handleJeepFullscreenChange(){this._setProperties(!0),this.fullScreen=!1,this._windowResize()}async handleKeydown(i){i.preventDefault();const s=i.key?i.key:null;switch(null!==s?s:(i.keyCode||i.which?i.keyCode||i.which:null).toString()){case"ArrowLeft":"horizontal"===this._direction&&await this.goToPreviousSlide();break;case"ArrowUp":"vertical"===this._direction&&await this.goToPreviousSlide();break;case"ArrowRight":"horizontal"===this._direction&&await this.goToNextSlide();break;case"ArrowDown":"vertical"===this._direction&&await this.goToNextSlide()}}handleTouchstart(){this._touchStart=!0}handleTouchmove(){this._touchMove=!0}async handleTouchend(){this._touchStart&&this._touchMove||(this._initial=await this._doHide(this.innerOptions.duration?this.innerOptions.duration:2500)),this._touchStart=!1,this._touchMove=!1}init(){return Promise.resolve(this._init())}setSlides(){return Promise.resolve(this._setSlides())}async getActiveSlideIndex(){const i=await this._getCurrentSlideIndex();return Promise.resolve(i)}async goToPreviousSlide(){return await this._goPrev()}async goToNextSlide(){return await this._goNext()}async goToSlideIndex(i){return await this._scrollToPosition(i)}async componentWillLoad(){await this.init()}async componentDidLoad(){await this.setSlides()}async _init(){this._element=this.el.shadowRoot,this._slidesNumber=0,this.parseOptionsProp(this.options?this.options:JSON.stringify({direction:"horizontal"})),this._direction=this.innerOptions.direction?this.innerOptions.direction:"horizontal",this._navIcon=this.innerOptions.navigation&&this.innerOptions.navigation.icon?this.innerOptions.navigation.icon:"arrow-circle",this._oriMargin.top=window.getComputedStyle(this.el).getPropertyValue("--slides-margin-top"),this._oriMargin.left=window.getComputedStyle(this.el).getPropertyValue("--slides-margin-left"),this._oriMargin.bottom=window.getComputedStyle(this.el).getPropertyValue("--slides-margin-bottom"),this._oriMargin.right=window.getComputedStyle(this.el).getPropertyValue("--slides-margin-right")}async _setSlides(){if(this._containerEl=this._element.querySelector(".slides-container"),this._wrapperEl=this._containerEl.querySelector(".slides-wrapper"),this._slidesEl=this._wrapperEl.querySelector(".slides"),this._slidesEl.classList.add(`slides-${this._direction}`),this._slotEl=this._slidesEl.querySelector("slot"),null!==this._slotEl&&(this._arrSlidesEl=await this._getElementsInSlot(),null!==this._arrSlidesEl&&this._arrSlidesEl.length>0)){this._slidesNumber=this._arrSlidesEl.length;for(let s=0;s<this._slidesNumber;s++)this._slidesEl.append(this._arrSlidesEl[s]);const i=Array.from(this.el.querySelectorAll("div"));if(null!==i){for(let s=0;s<i.length;s++)"slides"===i[s].slot&&this.el.removeChild(i[s]);this._slidesEl.removeChild(this._slotEl)}this.innerOptions.fullscreen&&(this._fullEl=this._containerEl.querySelector("#jeep-slides-fullscreen")),!this.innerOptions.autoplay&&this.innerOptions.navigation&&(this._navEl=this._containerEl.querySelector("#jeep-slides-navigation")),!this.innerOptions.autoplay&&this.innerOptions.pagination&&(this._pagEl=this._containerEl.querySelector(`#jeep-slides-pagination-${this.innerOptions.direction}`),await this._pagEl.setJeepPaginationSlidesNumber({slides:this._arrSlidesEl.length})),this.innerOptions.autoplay&&(this._playEl=this._containerEl.querySelector("#jeep-slides-autoplay")),this._slidesEl.addEventListener("scroll",()=>{const i=this._slidesParams.curSlide;this._ticking||(setTimeout(async()=>{this._slidesParams.curSlide=await this.getActiveSlideIndex(),this._slidesParams.position=Number("x"===this._slidesParams.axis?this._slidesEl.scrollLeft:this._slidesEl.scrollTop),this.innerOptions.navigation&&this._slidesParams.curSlide!==i&&this._setNavigationButtons(),this.innerOptions.pagination&&this._slidesParams.curSlide!==i&&this._syncPagination(),this.innerOptions.autoplay&&this._slidesParams.curSlide!==i&&this._playEl.setActiveIndexAndPlay(this._slidesParams.curSlide),this._ticking=!1},200),this._ticking=!0)},!1),this._slidesEl.addEventListener("click",async()=>{this._initial=await this._doHide(this.innerOptions.duration?this.innerOptions.duration:2500)},!1),this._slidesParams.axis="vertical"===this._direction?"y":"x",this._slidesParams.curSlide=0,this._slidesParams.nbSlides=this._arrSlidesEl.length,await this._initScrollParams(),!this.innerOptions.autoplay&&this.innerOptions.navigation&&this._slidesParams.nbSlides>1&&await this._navEl.setJeepNavigationNextDisabled({disabled:!1}),this._initial=await this._doHide(this.innerOptions.duration?this.innerOptions.duration:2500),this.nSlides=this._arrSlidesEl.length}}_setProperties(i){i?(this.el.style.setProperty("--slides-margin-top",this._oriMargin.top),this.el.style.setProperty("--slides-margin-bottom",this._oriMargin.bottom),this.el.style.setProperty("--slides-margin-left",this._oriMargin.left),this.el.style.setProperty("--slides-margin-right",this._oriMargin.right)):(this.el.style.setProperty("--slides-margin-top","0px"),this.el.style.setProperty("--slides-margin-bottom","0px"),this.el.style.setProperty("--slides-margin-left","0px"),this.el.style.setProperty("--slides-margin-right","0px"))}async _windowResize(){this.el.style.setProperty("--slides-width",`${window.innerWidth}px`),this.el.style.setProperty("--slides-height",`${window.innerHeight}px`),await this._initScrollParams(),await this.goToSlideIndex(this._slidesParams.curSlide)}async _getElementsInSlot(){let i=null;const s=this._slotEl.assignedNodes().filter(i=>"slides"===i.slot?i:null);return null!==s&&s.length>0&&(i=Array.from(s[0].querySelectorAll("jeep-slide"))),i}async _initScrollParams(){const i=await a(this._arrSlidesEl[0],100);this._slidesParams.slideLength="x"===this._slidesParams.axis?i.width:i.height,this._slidesParams.scrollLength="x"===this._slidesParams.axis?this._slidesEl.scrollWidth:this._slidesEl.scrollHeight,this._slidesParams.position=this._slidesParams.curSlide*this._slidesParams.slideLength}async _doHide(i){return clearTimeout(this._initial),await this._doVisible(),setTimeout(async()=>{this.onSlidesHeaderVisibility.emit({visibility:"hidden"}),this._navEl&&this.innerOptions.navigation.hidden&&await this._navEl.setJeepNavigationVisibility({visibility:"hidden"}),this._pagEl&&this.innerOptions.pagination.hidden&&await this._pagEl.setJeepPaginationVisibility({visibility:"hidden"}),this._playEl&&this.innerOptions.autoplay.hidden&&await this._playEl.setJeepPlayControlsVisibility({visibility:"hidden"}),this._fullEl&&this.innerOptions.fullscreen.hidden&&await this._fullEl.setJeepFullscreenVisibility({visibility:"hidden"})},i)}async _doVisible(){0!==this._slidesParams.curSlide&&this._slidesParams.curSlide!==this._slidesNumber-1||this.onSlidesHeaderVisibility.emit({visibility:"visible"}),this._navEl&&this.innerOptions.navigation.hidden&&await this._navEl.setJeepNavigationVisibility({visibility:"visible"}),this._pagEl&&this.innerOptions.pagination.hidden&&await this._pagEl.setJeepPaginationVisibility({visibility:"visible"}),this._playEl&&this.innerOptions.autoplay.hidden&&await this._playEl.setJeepPlayControlsVisibility({visibility:"visible"}),this._fullEl&&this.innerOptions.fullscreen.hidden&&await this._fullEl.setJeepFullscreenVisibility({visibility:"visible"})}async _getCurrentSlideIndex(){let i=0;return this._slidesParams.position=Number("x"===this._slidesParams.axis?this._slidesEl.scrollLeft:this._slidesEl.scrollTop),Math.abs(this._slidesParams.scrollLength/this._slidesParams.nbSlides-this._slidesParams.slideLength)<2&&(i=Math.round(this._slidesParams.position/this._slidesParams.slideLength)),i}async _goPrev(){this._slidesParams.curSlide-=1,this._slidesParams.curSlide<0&&(this._slidesParams.curSlide=0),this.innerOptions.autoplay?this._playEl.setActiveIndexAndPlay(this._slidesParams.curSlide):(this._setNavigationButtons(),this.innerOptions.pagination&&this._syncPagination()),await this.goToSlideIndex(this._slidesParams.curSlide)}async _goNext(){this._slidesParams.curSlide+=1,this._slidesParams.curSlide>=this._slidesParams.nbSlides&&(this._slidesParams.curSlide=this._slidesParams.nbSlides-1),this.innerOptions.autoplay?this._playEl.setActiveIndexAndPlay(this._slidesParams.curSlide):(this._setNavigationButtons(),this.innerOptions.pagination&&this._syncPagination()),await this.goToSlideIndex(this._slidesParams.curSlide)}async _setNavigationButtons(){this._navEl&&(0===this._slidesParams.curSlide&&await this._navEl.setJeepNavigationPrevDisabled({disabled:!0}),this._slidesParams.curSlide>=1&&await this._navEl.setJeepNavigationPrevDisabled({disabled:!1}),this._slidesParams.curSlide===this._slidesParams.nbSlides-1&&await this._navEl.setJeepNavigationNextDisabled({disabled:!0}),this._slidesParams.curSlide<=this._slidesParams.nbSlides-2&&await this._navEl.setJeepNavigationNextDisabled({disabled:!1}))}_syncPagination(){this._pagEl&&this._pagEl.setJeepPaginationActiveIndex({activeIndex:this._slidesParams.curSlide.toString()})}async _scrollToPosition(i){i!==this._slidesParams.curSlide&&(this._slidesParams.curSlide=i),this._slidesParams.position=this._slidesParams.curSlide*this._slidesParams.slideLength,"x"===this._slidesParams.axis?this._slidesEl&&this._slidesEl.scrollTo(this._slidesParams.position,0):this._slidesEl&&this._slidesEl.scrollTo(0,this._slidesParams.position)}render(){return t(h,null,t("div",{class:"slides-container"},t("div",{class:"slides-wrapper"},t("div",{class:"slides"},t("slot",{name:"slides"}))),!this.innerOptions.autoplay&&this.innerOptions.navigation?t("jeep-navigation",{id:"jeep-slides-navigation",name:this._navIcon}):null,!this.innerOptions.autoplay&&this.innerOptions.pagination?t("jeep-pagination",{id:`jeep-slides-pagination-${this._direction}`,ndisplay:this.innerOptions.pagination.bulletsDisplay?this.innerOptions.pagination.bulletsDisplay:5,clickable:!!this.innerOptions.pagination.clickable&&this.innerOptions.pagination.clickable,direction:this._direction}):null,this.innerOptions.autoplay?t("jeep-play-controls",{id:"jeep-slides-autoplay",duration:this.innerOptions.autoplay.duration,nslides:this.nSlides}):null,this.innerOptions.fullscreen?t("jeep-fullscreen",{id:"jeep-slides-fullscreen"}):null))}get el(){return e(this)}static get watchers(){return{options:["parseOptionsProp"]}}static get style(){return":host{--slides-width:100vw;--slides-height:100vh;--slides-margin-top:var(--gslides-margin-top,0px);--slides-margin-left:var(--gslides-margin-left,0px);--slides-margin-right:var(--gslides-margin-right,0px);--slides-margin-bottom:var(--gslides-margin-bottom,0px);--slides-background-color:var(--gslides-background-color,transparent);--slides-pagination-bottom:var(--gslides-pagination-bottom,15px);--slides-pagination-right:var(--gslides-pagination-right,5px);--slides-bullet-active-diameter:var(--gslides-bullet-active-diameter,24px);--slides-bullet-diameter:var(--gslides-bullet-diameter,15px);--slides-bullet-background:var(--gslides-bullet-background,#000);--slides-bullet-opacity:var(--gslides-bullet-opacity,0.5);--slides-bullet-active-background:var(--gslides-bullet-active-background,#ff8000);--slides-bullet-active-opacity:var(--gslides-bullet-active-opacity,1);--slides-navigation-button-width:var(--gslides-navigation-button-width,50px);--slides-navigation-button-height:var(--gslides-navigation-button-height,50px);--slides-navigation-padding-horizontal:var(--gslides-navigation-padding-horizontal,10px);--slides-navigation-button-icon-color:var(--gslides-navigation-button-icon-color,#222428);--slides-slide-scroll-snap-align:var(--gslides-slide-scroll-snap-align,start);--slides-slide-background:var(--gslides-slide-background);--slides-slide-color:var(--gslides-slide-color);--slides-slide-title-font-size:var(--gslides-slide-title-font-size);--slides-slide-subtitle-font-size:var(--gslides-slide-subtitle-font-size);--slides-slide-content-top:var(--gslides-slide-content-top);--slides-slide-content-padding:var(--gslides-slide-content-padding);--slides-slide-content-font-size:var(--gslides-slide-content-font-size);--slides-slide-content-text-align:var(--gslides-slide-content-text-align);--slides-slide-header-top:var(--gslides-slide-header-top);--slides-playcontrols-bottom:var(--gslides-playcontrols-bottom,20px);--slides-playcontrols-button-width:var(--gslides-playcontrols-button-width,50px);--slides-playcontrols-button-height:var(--gslides-playcontrols-button-height,50px);--slides-fullscreen-top:var(--gslides-fullscreen-top,10px);--slides-fullscreen-left:var(--gslides-fullscreen-left,10px);--slides-fullscreen-button-width:var(--gslides-fullscreen-button-width,50px);--slides-fullscreen-button-height:var(--gslides-fullscreen-button-height,50px);--slides-fullscreen-button-icon-color:var(--gslides-fullscreen-button-icon-color,#222428)}.slides-container{position:absolute;top:0;bottom:0;right:0;left:0;overflow:hidden;background-color:var(--slides-background-color)}.slides-wrapper{margin-top:var(--slides-margin-top);margin-bottom:var(--slides-margin-bottom);margin-left:var(--slides-margin-left);margin-right:var(--slides-margin-right);position:relative;width:100%;height:100%}.slides,.slides-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}.slides{margin:0;font-family:sans-serif;width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right));height:calc(var(--slides-height) - var(--slides-margin-top) - var(--slides-margin-bottom));display:-ms-flexbox;display:flex;overflow:auto;scroll-snap-type:mandatory;-ms-scroll-snap-type:mandatory;-webkit-scroll-snap-type:mandatory;-webkit-scroll-snap-destination:0 0;-webkit-overflow-scrolling:touch}.slides.slides-horizontal{-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;-webkit-scroll-snap-points-x:repeat(100%);scroll-snap-points-x:repeat(100%);-ms-scroll-snap-points-x:repeat(100%);overflow-x:scroll;-ms-flex-direction:row;flex-direction:row;overflow-y:hidden}.slides.slides-vertical{-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;-webkit-scroll-snap-points-x:initial;scroll-snap-points-x:none;-ms-scroll-snap-points-x:initial;-webkit-scroll-snap-points-y:repeat(100%);scroll-snap-points-y:repeat(100%);-ms-scroll-snap-points-y:repeat(100%);overflow-y:scroll;-ms-flex-direction:column;flex-direction:column;overflow-x:hidden}#jeep-slides-navigation{--navigation-top:calc(var(--slides-height) / 2 + var(--slides-margin-top) / 2 - var(--slides-margin-bottom) / 2);--navigation-left:var(--slides-margin-left);--navigation-width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right));--navigation-button-width:var(--slides-navigation-button-width);--navigation-button-height:var(--slides-navigation-button-height);--navigation-padding-horizontal:var(--slides-navigation-padding-horizontal);--navigation-button-icon-color:var(--slides-navigation-button-icon-color)}#jeep-slides-pagination-horizontal{--pagination-top:calc(var(--slides-height) - var(--slides-margin-bottom) - var(--slides-pagination-bottom));--pagination-left:var(--slides-margin-left);--pagination-height:auto;--pagination-width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right))}#jeep-slides-pagination-horizontal,#jeep-slides-pagination-vertical{--bullet-active-diameter:var(--slides-bullet-active-diameter);--bullet-diameter:var(--slides-bullet-diameter);--bullet-background:var(--slides-bullet-background);--bullet-opacity:var(--slides-bullet-opacity);--bullet-active-background:var(--slides-bullet-active-background);--bullet-active-opacity:var(--slides-bullet-active-opacity)}#jeep-slides-pagination-vertical{--pagination-top:var(--slides-margin-top);--pagination-left:calc(var(--slides-width) - var(--slides-pagination-right) - var(--slides-margin-right) - var(--slides-bullet-active-diameter));--pagination-width:calc(var(--slides-bullet-active-diameter));--pagination-height:calc(var(--slides-height) - var(--slides-margin-top) - var(--slides-margin-bottom));visibility:visible}#jeep-slides-autoplay{--playcontrols-top:calc(var(--slides-height) - var(--slides-margin-bottom) - var(--slides-playcontrols-bottom) - var(--slides-playcontrols-button-height));--playcontrols-left:var(--slides-margin-left);--playcontrols-width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right));--playcontrols-button-width:var(--slides-playcontrols-button-width);--playcontrols-button-height:var(--slides-playcontrols-button-height);visibility:visible}#jeep-slides-fullscreen{--fullscreen-top:calc(var(--slides-margin-top) + var(--slides-fullscreen-top));--fullscreen-left:calc(var(--slides-margin-left) + var(--slides-fullscreen-left));--fullscreen-width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right) - var(--slides-fullscreen-left));--fullscreen-button-width:var(--slides-fullscreen-button-width);--fullscreen-button-height:var(--slides-fullscreen-button-height);--fullscreen-button-icon-color:var(--slides-fullscreen-button-icon-color);visibility:visible}jeep-slide{--slide-scroll-snap-align:var(--slides-slide-scroll-snap-align);--slide-min-width:calc(var(--slides-width) - var(--slides-margin-left) - var(--slides-margin-right));--slide-height:calc(var(--slides-height) - var(--slides-margin-top) - var(--slides-margin-bottom))}"}};export{n as jeep_slides};